webpackJsonp([2],{133:function(t,e,a){var i=a(134);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(54)("79c47f0f",i,!0,{})},134:function(t,e,a){e=t.exports=a(53)(!1),e.push([t.i,".fcc-home[data-v-78d77084]{padding-top:0;padding-bottom:0}.fcc-home-post-filter[data-v-78d77084]{max-width:800px;margin:0 auto;padding:1em;margin-bottom:1em;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff}.fcc-home-post-filter-clear[data-v-78d77084]{float:right;color:#8c8c8c;-webkit-transition:color .3s;-o-transition:color .3s;transition:color .3s}.fcc-home-post-filter-clear[data-v-78d77084]:hover{color:#212121}.fcc-home-post-list[data-v-78d77084]{max-width:800px;margin:0 auto}@media screen and (max-width:1023px){.fcc-home-post-list[data-v-78d77084]{padding:0 1em}}.fcc-home-post[data-v-78d77084]{padding:.5em 1em 1em;margin-bottom:1em;background-color:#fff;border-radius:4px}.fcc-home-post-poster[data-v-78d77084]{height:0;width:100%;padding-bottom:60%;background-color:#ccc;background-position:top;background-repeat:no-repeat;background-size:cover;text-align:center;overflow:hidden}@media screen and (min-width:520px){.fcc-home-post-poster[data-v-78d77084]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:top;width:260px;height:170px;padding:0;margin-right:10px}.fcc-home-post-wp[data-v-78d77084]{display:inline-block;vertical-align:top;width:calc(100% - 270px)}}.fcc-home-post-title[data-v-78d77084]{padding:5px 0;font-size:1em;max-width:12em;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.fcc-home-post-title a[data-v-78d77084]{font-weight:700;text-decoration:none;-webkit-transition:color .3s ease;-o-transition:color .3s ease;transition:color .3s ease}.fcc-home-post-title a[data-v-78d77084]:hover{color:#00bcd4!important}.fcc-home-post-abs[data-v-78d77084]{font-size:.9em;line-height:1.4em}@media screen and (max-width:375px){.fcc-home-post-abs[data-v-78d77084]{display:none}}.fcc-home-post-comment-count[data-v-78d77084],.fcc-home-post-date[data-v-78d77084]{margin-right:1em}.fcc-home-post-tag[data-v-78d77084]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:.8em;line-height:1.2em}.fcc-home-post-tag li[data-v-78d77084]{margin-right:10px}.fcc-home-post-tag-link[data-v-78d77084]{text-decoration:none}.fcc-home-post-tag-link[data-v-78d77084]:hover{text-decoration:underline}.p1em[data-v-78d77084]{margin-bottom:1em}.fcc-home-post-mate[data-v-78d77084]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:.8em;line-height:1.2em}",""])},56:function(t,e,a){"use strict";function i(t){a(85)}var o={name:"BasePagination",props:{total:{require:!0,type:Number},currentPage:{require:!0,type:Number},pageSize:{type:Number,default:function(){return 10}},hideOnlyOne:{type:Boolean,default:function(){return!1}}},data:function(){return{currentPageCopy:this.currentPage,frontNum:1}},computed:{pageNum:function(){return Math.ceil(this.total/this.pageSize)||1},longPage:function(){return this.pageNum>7},pageTotal:function(){var t=this.pageNum,e=void 0;if(this.longPage){var a=this.frontNum;1===a?(e=[1,2,3,4,5,6,"...",t],this.currentPageCopy>6&&(this.currentPageCopy=6)):a>1&&a+4<t-1?(e=[1,"...",a,a+1,a+2,a+3,a+4,"...",t],this.currentPageCopy<a&&(this.currentPageCopy=a),this.currentPageCopy>a+4&&(this.currentPageCopy=a+4)):a+4===t-1&&(e=[1,"...",a,a+1,a+2,a+3,a+4,t],this.currentPageCopy<a&&(this.currentPageCopy=a))}else e=t;return e},hasPrevEllipsis:function(){return this.longPage&&"..."===this.pageTotal[1]},hasNextEllipsis:function(){return this.longPage&&"..."===this.pageTotal[this.pageTotal.length-2]}},watch:{currentPageCopy:function(t){this.$emit("current-change",t)}},methods:{changeCurrent:function(t,e){switch(t){case"...":this.checkMorePage(1===e);break;case"next":this.currentPageCopy<this.pageNum&&this.currentPageCopy++;break;case"prev":this.currentPageCopy>1&&this.currentPageCopy--;break;default:this.currentPageCopy!==t&&(1===t&&(this.frontNum=1),t===this.pageNum&&(this.frontNum=this.pageNum-5),this.currentPageCopy=t)}},checkMorePage:function(t){return t?3===this.frontNum?this.frontNum=1:this.frontNum--:this.hasPrevEllipsis?this.frontNum++:this.frontNum=3,!1}}},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!(t.hideOnlyOne&&1===t.pageNum),expression:"!(hideOnlyOne && pageNum === 1)"}],staticClass:"base-pagination"},[a("ul",{staticClass:"base-pagination-inner"},[a("li",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],class:{"base-pagination-single":!0,"is-disabled":1===t.currentPageCopy},on:{click:function(e){return t.changeCurrent("prev")}}},[t._v("<")]),t._l(t.pageTotal,function(e,i){return a("li",{key:i+e,class:{"base-pagination-single":!0,"active-bg-color text-primary-color":e===t.currentPageCopy},on:{click:function(a){return t.changeCurrent(e,i)}}},[t._v(t._s(e))])}),a("li",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],class:{"base-pagination-single":!0,"is-disabled":t.currentPageCopy===t.pageTotal},on:{click:function(e){return t.changeCurrent("next")}}},[t._v(">")])],2),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"base-pagination-total"},[t._v("共"+t._s(t.total)+"条")])])},n=[],r={render:s,staticRenderFns:n},c=r,l=a(3),u=i,p=l(o,c,!1,u,"data-v-31ca99bf",null);e.a=p.exports},58:function(t,e,a){"use strict";function i(t){a(133)}Object.defineProperty(e,"__esModule",{value:!0});var o=a(56),s=a(87),n={name:"TheHome",mixins:[s.a],data:function(){return{}},title:function(){return"FBLOG"},asyncData:function(t){var e=t.store,a=t.route,i=Number.parseInt(a.query&&a.query.page||1),o=Number.parseInt(a.query&&a.query.size||10),s=a.query&&a.query.tag,n={page:i,size:o,tag:s},r=[e.dispatch("getPosts",n)];return s&&r.push(e.dispatch("getTagName",s)),Promise.all(r)},components:{BasePagination:o.a},computed:{posts:function(){return this.$store.state.posts},tagName:function(){return this.$store.state.queryTagName},postsTotal:function(){return this.$store.state.postsTotal},pageSize:function(){return Number.parseInt(this.$route.query&&this.$route.query.size||10)},currentPage:function(){return Number.parseInt(this.$route.query&&this.$route.query.page||1)},queryTag:function(){return this.$route.query&&this.$route.query.tag}},beforeRouteEnter:function(t,e,a){a(function(t){t.$store.commit("setPosition",[{title:"BLOG",route:"/blog"}])})},methods:{changeCurrent:function(t){var e=Object.assign({},this.$route.query);e.page=t,this.$router.push({path:"blog",query:e})},clearTagQuery:function(){var t=Object.assign({},this.$route.query);delete t.tag,this.$router.push({path:"blog",query:t})}}},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"fcc-home"},[t.queryTag?a("div",{staticClass:"fcc-home-post-filter"},[t._v("\n    根据标签过滤："),a("span",{staticClass:"active-color"},[t._v(t._s(t.tagName))]),a("button",{staticClass:"fcc-home-post-filter-clear",attrs:{"data-type":"text"},on:{click:t.clearTagQuery}},[a("i",{staticClass:"iconfont icon-close"})])]):t._e(),a("div",{staticClass:"fcc-home-post-list"},[a("ul",t._l(t.posts,function(e){return a("li",{key:e._id,staticClass:"fcc-home-post secondary-text-color"},[a("div",{staticClass:"fcc-home-post-poster light-2-primary-color",style:{backgroundImage:"url("+(e.poster||"")+")"}}),a("div",{staticClass:"fcc-home-post-wp"},[a("h2",{staticClass:"fcc-home-post-title p1em"},[a("router-link",{staticClass:"primary-text-color",attrs:{to:"/blog/post/"+e._id}},[t._v(t._s(e.title))])],1),a("p",{staticClass:"fcc-home-post-abs p1em"},[t._v(t._s(e.abstract))]),a("ul",{staticClass:"fcc-home-post-tag p1em active-color"},t._l(e.tags,function(e){return a("li",{key:e._id,attrs:{title:"标签"}},[a("i",{staticClass:"iconfont icon-tag"}),a("router-link",{staticClass:"active-color fcc-home-post-tag-link",attrs:{to:"/blog?tag="+e._id}},[t._v(t._s(e.name))])],1)}),0),a("div",{staticClass:"fcc-home-post-mate"},[a("span",{staticClass:"fcc-home-post-date",attrs:{title:"文章发布日期"}},[a("i",{staticClass:"iconfont icon-calendar2"}),a("time",[t._v(t._s(e.date))])]),a("span",{staticClass:"fcc-home-post-comment-count",attrs:{title:"评论数"}},[a("i",{staticClass:"iconfont icon-comment"}),a("span",[t._v(t._s(e.commentCount))])]),a("span",{attrs:{title:"浏览量"}},[a("i",{staticClass:"iconfont icon-liulan1"}),a("span",[t._v(t._s(e.viewCount||0))])])])])])}),0),a("BasePagination",{attrs:{total:t.postsTotal,"current-page":t.currentPage,"page-size":t.pageSize},on:{"current-change":t.changeCurrent}})],1)])},c=[],l={render:r,staticRenderFns:c},u=l,p=a(3),d=i,g=p(n,u,!1,d,"data-v-78d77084",null);e.default=g.exports},85:function(t,e,a){var i=a(86);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(54)("39deb76a",i,!0,{})},86:function(t,e,a){e=t.exports=a(53)(!1),e.push([t.i,".base-pagination-inner[data-v-31ca99bf]{display:inline-block;vertical-align:middle;margin-right:1em}.base-pagination-single[data-v-31ca99bf]{display:inline-block;width:1em;text-align:center;background-color:#fff;padding:5px;margin:0 2px;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.base-pagination-single.is-disabled[data-v-31ca99bf]{color:#ccc;cursor:not-allowed}.base-pagination-single[data-v-31ca99bf]:not(.is-disabled):active,.base-pagination-single[data-v-31ca99bf]:not(.is-disabled):hover{color:#00bcd4}.base-pagination-total[data-v-31ca99bf]{font-size:.8em;vertical-align:middle}",""])},87:function(t,e,a){"use strict";function i(t){var e=t.$options.title;if(e)return"function"==typeof e?e.call(t):e}var o={mounted:function(){var t=i(this);t&&(document.title=t)}};e.a=o}});